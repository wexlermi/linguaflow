@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* 
     Smart opacity: 
     - On touch devices (no hover), always visible (opacity 1).
     - On mouse devices (hover), hidden by default (opacity 0), visible on group hover.
  */
  .smart-hover-opacity {
    opacity: 1;
  }

  @media (hover: hover) {
    .smart-hover-opacity {
      opacity: 0;
      transition-property: opacity;
      transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      transition-duration: 150ms;
    }
    .group:hover .smart-hover-opacity {
      opacity: 1;
    }
  }

  /*
     Smart card hover effects:
     - Only apply the lift, shadow, and border change on devices that support hover.
     - Prevents "double tap to click" on iOS where the first tap activates hover.
  */
  .smart-hover-card {
    transition-property: all;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 300ms;
  }

  @media (hover: hover) {
    .smart-hover-card:hover {
      --tw-border-opacity: 1;
      border-color: rgb(129 140 248 / var(--tw-border-opacity)); /* indigo-400 */
      --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
      --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);
      box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
      transform: translateVar(var(--tw-translate-x), -0.25rem) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
      transform: translateY(-0.25rem);
    }
  }
}
